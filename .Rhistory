net = graph_from_data_frame(row_t, directed=FALSE)
V(net)$label <- ""
E(net)$arrow.mode <- 0
r = 3
alpha = seq(0,2*pi,length.out=vcount(net)-1)
layout_x = c(0.0,sapply(alpha, function(x) r*cos(x)))
layout_y = c(0.0,sapply(alpha, function(x) r*sin(x)))
l = cbind(layout_x,layout_y)
fname = paste(save_path,title,"_",i,".png",sep='')
png(filename=fname)
plot(net,layout=l,
edge.color = "dark red",
vertex.color = "orange",
vertex.size = 8,
vertex.frame.color = "white",
edge.width=E(net)$weight*8)
dev.off()
}
library('igraph')
library('network')
library('sna')
library('ndtv')
library('visNetwork')
library('GGally')
library('ggplot2')
save_path = '/usr/local/cultivate-server/api/analysis/network_hawkes/samir_content_agnostic/'
df = read.csv('/usr/local/cultivate-server/api/bias_outgoing.csv')
title = "bias_outgoing"
from = 'C7fIZu2IRpOY12StGaFUbg'
df[is.na(df)] = 0
jet = c("yellow","orange","red","dark red")
rbPal = colorRampPalette(jet, space='Lab')
for (i in 1:nrow(df)) {
row = df[i,]
end_date = toString(row$end_date)
row$end_date = NULL
rownames(row) = 'weight'
row_t = as.data.frame(t(row))
row_t$to = rownames(row_t)
row_t$from = from
row_t$weight_colors = rbPal(10)[as.numeric(cut(row_t$weight,breaks=10))]
row_t = row_t[c('from','to','weight','weight_colors')]
net = graph_from_data_frame(row_t, directed=FALSE)
V(net)$label <- ""
E(net)$arrow.mode <- 0
r = 3
alpha = seq(0,2*pi,length.out=vcount(net)-1)
layout_x = c(0.0,sapply(alpha, function(x) r*cos(x)))
layout_y = c(0.0,sapply(alpha, function(x) r*sin(x)))
l = cbind(layout_x,layout_y)
fname = paste(save_path,title,"_",i,".png",sep='')
png(filename=fname)
plot(net,layout=l,
edge.color = "dark red",
vertex.color = "orange",
vertex.size = 8,
vertex.frame.color = "white",
edge.width=E(net)$weight*8)
dev.off()
}
fname = paste(save_path,title,"_",sprintf('%03d', 1),".png",sep='')
fname
library('igraph')
library('network')
library('sna')
library('ndtv')
library('visNetwork')
library('GGally')
library('ggplot2')
save_path = '/usr/local/cultivate-server/api/analysis/network_hawkes/samir_content_agnostic/'
df = read.csv('/usr/local/cultivate-server/api/bias_outgoing.csv')
title = "bias_outgoing"
from = 'C7fIZu2IRpOY12StGaFUbg'
df[is.na(df)] = 0
jet = c("yellow","orange","red","dark red")
rbPal = colorRampPalette(jet, space='Lab')
for (i in 1:nrow(df)) {
row = df[i,]
end_date = toString(row$end_date)
row$end_date = NULL
rownames(row) = 'weight'
row_t = as.data.frame(t(row))
row_t$to = rownames(row_t)
row_t$from = from
row_t$weight_colors = rbPal(10)[as.numeric(cut(row_t$weight,breaks=10))]
row_t = row_t[c('from','to','weight','weight_colors')]
net = graph_from_data_frame(row_t, directed=FALSE)
V(net)$label <- ""
E(net)$arrow.mode <- 0
r = 3
alpha = seq(0,2*pi,length.out=vcount(net)-1)
layout_x = c(0.0,sapply(alpha, function(x) r*cos(x)))
layout_y = c(0.0,sapply(alpha, function(x) r*sin(x)))
l = cbind(layout_x,layout_y)
fname = paste(save_path,title,"_",sprintf('%03d', 1),".png",sep='')
png(filename=fname)
plot(net,layout=l,
edge.color = "dark red",
vertex.color = "orange",
vertex.size = 8,
vertex.frame.color = "white",
edge.width=E(net)$weight*8)
dev.off()
}
library('igraph')
library('network')
library('sna')
library('ndtv')
library('visNetwork')
library('GGally')
library('ggplot2')
save_path = '/usr/local/cultivate-server/api/analysis/network_hawkes/samir_content_agnostic/'
df = read.csv('/usr/local/cultivate-server/api/bias_incoming.csv')
title = "bias_incoming"
from = 'C7fIZu2IRpOY12StGaFUbg'
df[is.na(df)] = 0
jet = c("yellow","orange","red","dark red")
rbPal = colorRampPalette(jet, space='Lab')
for (i in 1:nrow(df)) {
row = df[i,]
end_date = toString(row$end_date)
row$end_date = NULL
rownames(row) = 'weight'
row_t = as.data.frame(t(row))
row_t$to = rownames(row_t)
row_t$from = from
row_t$weight_colors = rbPal(10)[as.numeric(cut(row_t$weight,breaks=10))]
row_t = row_t[c('from','to','weight','weight_colors')]
net = graph_from_data_frame(row_t, directed=FALSE)
V(net)$label <- ""
E(net)$arrow.mode <- 0
r = 3
alpha = seq(0,2*pi,length.out=vcount(net)-1)
layout_x = c(0.0,sapply(alpha, function(x) r*cos(x)))
layout_y = c(0.0,sapply(alpha, function(x) r*sin(x)))
l = cbind(layout_x,layout_y)
fname = paste(save_path,title,"_",sprintf('%03d', 1),".png",sep='')
png(filename=fname)
plot(net,layout=l,
edge.color = "dark red",
vertex.color = "orange",
vertex.size = 8,
vertex.frame.color = "white",
edge.width=E(net)$weight*8)
dev.off()
}
fname = paste(save_path,title,"_",sprintf('%03d', i),".png",sep='')
png(filename=fname)
plot(net,layout=l,
edge.color = "dark red",
vertex.color = "orange",
vertex.size = 8,
vertex.frame.color = "white",
vertex.shape = "none",
edge.width=E(net)$weight*8)
dev.off()
plot(net,layout=l,
edge.color = "dark red",
vertex.color = "orange",
vertex.size = 8,
vertex.frame.color = "white",
vertex.shape = "none",
edge.width=E(net)$weight*8)
plot(net,layout=l,
edge.color = "dark red",
vertex.color = "orange",
vertex.size = 8,
vertex.frame.color = "white",
# vertex.shape = "none",
edge.width=E(net)$weight*8)
E(net)$weight
plot(net,layout=l,
edge.color = "dark red",
vertex.color = "orange",
vertex.size = 8,
vertex.frame.color = "white",
# vertex.shape = "none",
edge.width=E(net)$weight*8)
library('igraph')
library('network')
library('sna')
library('ndtv')
library('visNetwork')
library('GGally')
library('ggplot2')
save_path = '/usr/local/cultivate-server/api/analysis/network_hawkes/samir_content_agnostic/'
df = read.csv('/usr/local/cultivate-server/api/bias_incoming.csv')
title = "bias_incoming"
from = 'C7fIZu2IRpOY12StGaFUbg'
df[is.na(df)] = 0
jet = c("yellow","orange","red","dark red")
rbPal = colorRampPalette(jet, space='Lab')
for (i in 1:nrow(df)) {
row = df[i,]
end_date = toString(row$end_date)
row$end_date = NULL
rownames(row) = 'weight'
row_t = as.data.frame(t(row))
row_t$to = rownames(row_t)
row_t$from = from
row_t$weight_colors = rbPal(10)[as.numeric(cut(row_t$weight,breaks=10))]
row_t = row_t[c('from','to','weight','weight_colors')]
net = graph_from_data_frame(row_t, directed=FALSE)
V(net)$label <- ""
E(net)$arrow.mode <- 0
r = 3
alpha = seq(0,2*pi,length.out=vcount(net)-1)
layout_x = c(0.0,sapply(alpha, function(x) r*cos(x)))
layout_y = c(0.0,sapply(alpha, function(x) r*sin(x)))
l = cbind(layout_x,layout_y)
plot(net,layout=l,
edge.color = "dark red",
vertex.color = "orange",
vertex.size = 8,
vertex.frame.color = "white",
vertex.shape = "none",
edge.width=E(net)$weight*8)
l
}
library('igraph')
library('network')
library('sna')
library('ndtv')
library('visNetwork')
library('GGally')
library('ggplot2')
save_path = '/usr/local/cultivate-server/api/analysis/network_hawkes/samir_content_agnostic/'
df = read.csv('/usr/local/cultivate-server/api/bias_incoming.csv')
title = "bias_incoming"
from = 'C7fIZu2IRpOY12StGaFUbg'
df[is.na(df)] = 0
jet = c("yellow","orange","red","dark red")
rbPal = colorRampPalette(jet, space='Lab')
i=1
row = df[i,]
end_date = toString(row$end_date)
row$end_date = NULL
rownames(row) = 'weight'
row_t = as.data.frame(t(row))
row_t$to = rownames(row_t)
row_t$from = from
row_t$weight_colors = rbPal(10)[as.numeric(cut(row_t$weight,breaks=10))]
row_t = row_t[c('from','to','weight','weight_colors')]
net = graph_from_data_frame(row_t, directed=FALSE)
V(net)$label <- ""
E(net)$arrow.mode <- 0
r = 3
alpha = seq(0,2*pi,length.out=vcount(net)-1)
layout_x = c(0.0,sapply(alpha, function(x) r*cos(x)))
layout_y = c(0.0,sapply(alpha, function(x) r*sin(x)))
l = cbind(layout_x,layout_y)
plot(net,layout=l,
edge.color = "dark red",
vertex.color = "orange",
vertex.size = 8,
vertex.frame.color = "white",
vertex.shape = "none",
edge.width=E(net)$weight*8)
plot(net,layout=l,
edge.color = "dark red",
vertex.color = "orange",
vertex.size = 8,
vertex.frame.color = "white",
edge.width=E(net)$weight*8)
E(net)$weight*8
plot(net,layout=l,
edge.color = "dark red",
vertex.color = "orange",
vertex.size = 8,
vertex.frame.color = "white",
edge.width=E(net)$weight*1e4)
plot(net,layout=l,
edge.color = "dark red",
vertex.color = "orange",
vertex.size = 8,
vertex.frame.color = "white",
edge.width=E(net)$weight*1e5)
plot(net,layout=l,
edge.color = "dark red",
vertex.color = "orange",
vertex.size = 8,
vertex.frame.color = "white",
edge.width=E(net)$weight*1e4)
plot(net,layout=l,
edge.color = "dark red",
vertex.color = "orange",
vertex.size = 8,
vertex.frame.color = "white",
edge.width=E(net)$weight*2e4)
shownode = E(net)$weight > 0
shownode
vcount(net)
shownode = c(TRUE,E(net)$weight > 0)
shownode
plot(net,layout=l,
edge.color = "dark red",
vertex.color = "orange",
vertex.size = 8,
vertex.frame.color = "white",
vertex.shape = shownode,
edge.width=E(net)$weight*2e4)
shownode
shownode[shownode] = 'circle'
shownode
shownode[!shownode] = 'circle'
shownode[~shownode] = 'circle'
shownode[!(shownode)] = 'circle'
shownode = c(TRUE,E(net)$weight > 0)
!shownode
shownode
rep('circle',2)
zeronode = c(FALSE,E(net)$weight == 0)
nodeshapes = rep('circle',vcount(net))
nodeshapes[zeronode] = 'none'
nodeshapes
plot(net,layout=l,
edge.color = "dark red",
vertex.color = "orange",
vertex.size = 8,
vertex.frame.color = "white",
vertex.shape = nodeshapes,
edge.width=E(net)$weight*2e4)
library('igraph')
library('network')
library('sna')
library('ndtv')
library('visNetwork')
library('GGally')
library('ggplot2')
save_path = '/usr/local/cultivate-server/api/analysis/network_hawkes/samir_content_agnostic/'
df = read.csv('/usr/local/cultivate-server/api/bias_incoming.csv')
title = "bias_incoming"
from = 'C7fIZu2IRpOY12StGaFUbg'
df[is.na(df)] = 0
jet = c("yellow","orange","red","dark red")
rbPal = colorRampPalette(jet, space='Lab')
for (i in 1:nrow(df)) {
row = df[i,]
end_date = toString(row$end_date)
row$end_date = NULL
rownames(row) = 'weight'
row_t = as.data.frame(t(row))
row_t$to = rownames(row_t)
row_t$from = from
row_t$weight_colors = rbPal(10)[as.numeric(cut(row_t$weight,breaks=10))]
row_t = row_t[c('from','to','weight','weight_colors')]
net = graph_from_data_frame(row_t, directed=FALSE)
V(net)$label <- ""
E(net)$arrow.mode <- 0
r = 3
alpha = seq(0,2*pi,length.out=vcount(net)-1)
layout_x = c(0.0,sapply(alpha, function(x) r*cos(x)))
layout_y = c(0.0,sapply(alpha, function(x) r*sin(x)))
l = cbind(layout_x,layout_y)
zeronode = c(FALSE,E(net)$weight == 0)
nodeshapes = rep('circle',vcount(net))
nodeshapes[zeronode] = 'none'
fname = paste(save_path,title,"_",sprintf('%03d', i),".png",sep='')
png(filename=fname)
plot(net,layout=l,
edge.color = "dark red",
vertex.color = "orange",
vertex.size = 8,
vertex.frame.color = "white",
vertex.shape = nodeshapes,
edge.width=E(net)$weight*2e4)
dev.off()
}
library('igraph')
library('network')
library('sna')
library('ndtv')
library('visNetwork')
library('GGally')
library('ggplot2')
save_path = '/usr/local/cultivate-server/api/analysis/network_hawkes/samir_content_agnostic/'
df = read.csv('/usr/local/cultivate-server/api/bias_outgoing.csv')
title = "bias_outgoing"
from = 'C7fIZu2IRpOY12StGaFUbg'
df[is.na(df)] = 0
jet = c("yellow","orange","red","dark red")
rbPal = colorRampPalette(jet, space='Lab')
for (i in 1:nrow(df)) {
row = df[i,]
end_date = toString(row$end_date)
row$end_date = NULL
rownames(row) = 'weight'
row_t = as.data.frame(t(row))
row_t$to = rownames(row_t)
row_t$from = from
row_t$weight_colors = rbPal(10)[as.numeric(cut(row_t$weight,breaks=10))]
row_t = row_t[c('from','to','weight','weight_colors')]
net = graph_from_data_frame(row_t, directed=FALSE)
V(net)$label <- ""
E(net)$arrow.mode <- 0
r = 3
alpha = seq(0,2*pi,length.out=vcount(net)-1)
layout_x = c(0.0,sapply(alpha, function(x) r*cos(x)))
layout_y = c(0.0,sapply(alpha, function(x) r*sin(x)))
l = cbind(layout_x,layout_y)
zeronode = c(FALSE,E(net)$weight == 0)
nodeshapes = rep('circle',vcount(net))
nodeshapes[zeronode] = 'none'
fname = paste(save_path,title,"_",sprintf('%03d', i),".png",sep='')
png(filename=fname)
plot(net,layout=l,
edge.color = "dark red",
vertex.color = "orange",
vertex.size = 8,
vertex.frame.color = "white",
vertex.shape = nodeshapes,
edge.width=E(net)$weight*2e4)
dev.off()
}
df = read.csv('/usr/local/cultivate-server/api/weight_outgoing.csv')
df
library('igraph')
library('network')
library('sna')
library('ndtv')
library('visNetwork')
library('GGally')
library('ggplot2')
save_path = '/usr/local/cultivate-server/api/analysis/network_hawkes/samir_content_agnostic/'
df = read.csv('/usr/local/cultivate-server/api/weight_outgoing.csv')
title = "weight_outgoing"
# mult = 2e4
mult = 8
from = 'C7fIZu2IRpOY12StGaFUbg'
df[is.na(df)] = 0
jet = c("yellow","orange","red","dark red")
rbPal = colorRampPalette(jet, space='Lab')
for (i in 1:nrow(df)) {
row = df[i,]
end_date = toString(row$end_date)
row$end_date = NULL
rownames(row) = 'weight'
row_t = as.data.frame(t(row))
row_t$to = rownames(row_t)
row_t$from = from
row_t$weight_colors = rbPal(10)[as.numeric(cut(row_t$weight,breaks=10))]
row_t = row_t[c('from','to','weight','weight_colors')]
net = graph_from_data_frame(row_t, directed=FALSE)
V(net)$label <- ""
E(net)$arrow.mode <- 0
r = 3
alpha = seq(0,2*pi,length.out=vcount(net)-1)
layout_x = c(0.0,sapply(alpha, function(x) r*cos(x)))
layout_y = c(0.0,sapply(alpha, function(x) r*sin(x)))
l = cbind(layout_x,layout_y)
zeronode = c(FALSE,E(net)$weight == 0)
nodeshapes = rep('circle',vcount(net))
nodeshapes[zeronode] = 'none'
fname = paste(save_path,title,"_",sprintf('%03d', i),".png",sep='')
png(filename=fname)
plot(net,layout=l,
edge.color = "dark red",
vertex.color = "orange",
vertex.size = 8,
vertex.frame.color = "white",
vertex.shape = nodeshapes,
edge.width=E(net)$weight*mult)
dev.off()
}
library('igraph')
library('network')
library('sna')
library('ndtv')
library('visNetwork')
library('GGally')
library('ggplot2')
save_path = '/usr/local/cultivate-server/api/analysis/network_hawkes/samir_content_agnostic/'
df = read.csv('/usr/local/cultivate-server/api/weight_incoming.csv')
title = "weight_incoming"
# mult = 2e4
mult = 8
from = 'C7fIZu2IRpOY12StGaFUbg'
df[is.na(df)] = 0
jet = c("yellow","orange","red","dark red")
rbPal = colorRampPalette(jet, space='Lab')
for (i in 1:nrow(df)) {
row = df[i,]
end_date = toString(row$end_date)
row$end_date = NULL
rownames(row) = 'weight'
row_t = as.data.frame(t(row))
row_t$to = rownames(row_t)
row_t$from = from
row_t$weight_colors = rbPal(10)[as.numeric(cut(row_t$weight,breaks=10))]
row_t = row_t[c('from','to','weight','weight_colors')]
net = graph_from_data_frame(row_t, directed=FALSE)
V(net)$label <- ""
E(net)$arrow.mode <- 0
r = 3
alpha = seq(0,2*pi,length.out=vcount(net)-1)
layout_x = c(0.0,sapply(alpha, function(x) r*cos(x)))
layout_y = c(0.0,sapply(alpha, function(x) r*sin(x)))
l = cbind(layout_x,layout_y)
zeronode = c(FALSE,E(net)$weight == 0)
nodeshapes = rep('circle',vcount(net))
nodeshapes[zeronode] = 'none'
fname = paste(save_path,title,"_",sprintf('%03d', i),".png",sep='')
png(filename=fname)
plot(net,layout=l,
edge.color = "dark red",
vertex.color = "orange",
vertex.size = 8,
vertex.frame.color = "white",
vertex.shape = nodeshapes,
edge.width=E(net)$weight*mult)
dev.off()
}
